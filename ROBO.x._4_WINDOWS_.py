import os
from getch import getch #–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —ç—Ç–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: pip install py-getch
import random


dlina_k = int(input("\n–ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –¥–ª–∏–Ω—É –∫–∞—Ä—Ç—ã,\
–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é <= 33\n\ndlina: "))

visota_k = int(input("\n–ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –≤—ã—Å–æ—Ç—É –∫–∞—Ä—Ç—ã,\
–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é <= 33\n\nvisota: "))

r_r_k = dlina_k * visota_k

roboX = int(input(f"\n–ò–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–∞—Ä—Ç—ã(<={r_r_k})\
    –í–≤–µ–¥–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—É –º–µ—Å—Ç–æ–Ω–æ—Ö–æ–∂–¥–µ–Ω–∏—è 'R': "))


#_________________________________________–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ü–µ–ª–µ–π(—Ü–≤–µ—Ç–∫–æ–≤)


flowers = [(random.randint(0,r_r_k)) for fl in range(0,dlina_k)]    #_–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–≤–µ—Ç–æ–≤ –∏–∑ —Å—É—á–∞–π–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (0, end map point)

flowers2 = []   #_______________________flowers –±–µ–∑ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–Ω–∞—á–µ–Ω–∏–π

for i in range(0,dlina_k):
    if flowers[i] not in flowers2:
        flowers2.append(flowers[i])

flowers_vost = [] #___–°–ø–∏—Å–æ–∫ –æ–∂–∏–≤—à–∏—Ö —Ü–≤–µ—Ç–æ–≤

#_______________________________________________________–¶–∏–∫–ª —Å –û–¢–†–ò–°–û–í–ö–û–ô

while True:

    for i in range(0,r_r_k):
        if i % dlina_k ==0:        #_–¢—É—Ç  print –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –ø–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ
            print("")              #_–∫–æ–ª–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ —Ä–∞–≤–Ω–æ–º—É dlina_k
        
        if roboX == i:
            print("üöø",end="")
        elif i in flowers2:
            if i in flowers_vost:
                print("üåπ",end="")
            else:
                print("ü•Ä",end="")
        else:
            print(".",end=" ")
    #__________________________________–°–æ–æ–±—â–∞–µ—Ç –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø–æ–ª–∏—Ç–æ–º —Ü–≤–µ—Ç–∫–µ

    if roboX in flowers_vost and roboX == flowers_vost[-1]:
        print("–£—Ä–∞! –¶–≤–µ—Ç–æ–∫",flowers_vost[-1],"–æ–∂–∏–ª!")
    #___________________________________________________

    print("\n\n\n\n\n\n\
    !!! –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–æ–π !!!\n\n\
        'w' - –í–í–ï–†–•\n\
            'a' - –õ–ï–í–û\n\
                'd' - –ü–†–ê–í–û\n\
                    's' - –í–ù–ò–ó\n\n\
        'e' - –Ω–∞–∂–º–∏ –¥–ª—è –ü–æ–ª–∏–≤–∞ —Ü–≤–µ—Ç–∫–∞\n\n\
        –ù–∞–∂–º–∏ 'X' –µ—Å–ª–∏ –≤–¥—Ä—É–≥, —Ä–µ—à–∏—à—å—Å—è –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç—É –ø—Ä–µ–∫—Ä–∞—Å–Ω—É—é –∏–≥—Ä—É...")   


    #_______________________________________________–í–≤–æ–¥ –±–µ–∑ –Ω–∞–∂–∞—Ç–∏—è ENTER

    joystick = getch()
    if joystick == b"a":
        roboX -=1
        if roboX < 0:
            roboX +=dlina_k
        
    elif joystick == b"d":
        roboX +=1
        if roboX == r_r_k:
            roboX -=(dlina_k)

    elif joystick == b"w":
        roboX -=dlina_k
        if roboX < 0:
            roboX =roboX+(r_r_k)
        
    elif joystick == b"s":
        roboX +=dlina_k
        if roboX >= r_r_k:
            roboX =roboX-(r_r_k)
        
    #________________________________–í–Ω–æ—Å–∏—Ç —Ü–≤–µ—Ç–æ–∫ –≤ —Å–ø–∏—Å–æ–∫ —É–∂–µ –ø–æ–ª–∏—Ç—ã—Ö
    elif joystick == b"e":       
        if roboX in flowers2:
            flowers_vost.append(roboX)

    #_________________________________–£—Å–ª–æ–≤–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã

    if set(flowers2) == set(flowers_vost):   #–£—Å–ª–æ–≤–∏–µ –£—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è.

        print("\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\
    –¢—ã –±–æ–ª—å—à–æ–π –º–æ–ª–æ–¥–µ—Ü! –í—Å–µ —É–≤—è–¥–∞—é—â–∏–µ —Ü–≤–µ—Ç—ã —Å–Ω–æ–≤–∞ –ø–æ–ª–Ω—ã –∂–∏–∑–Ω–∏ –∏ –≤–æ–¥—ã!)\
        \n")
        break
    elif joystick == b"x":   #_______PRESS_TO_EXITE
        break
    
    

    #_____________________________________________________________________
    
    os.system('cls')